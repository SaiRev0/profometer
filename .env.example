# ===========================================
# Profometer Environment Variables
# ===========================================
# Copy this file to .env and fill in the values

# ===========================================
# Database Configuration (Supabase)
# ===========================================
# Supabase provides TWO connection types. You need BOTH for proper operation.
#
# IMPORTANT: Find these URLs in Supabase Dashboard:
#   Project Settings > Database > Connection string
#   Toggle "Connection Pooling" to see both options
#
# 1. POOLER CONNECTION (port 6543) - For application runtime queries
#    - Uses PgBouncer connection pooling
#    - Better performance for app queries
#    - Add ?pgbouncer=true to the URL
DATABASE_URL="postgresql://postgres.[project-ref]:[password]@aws-0-ap-south-1.pooler.supabase.com:6543/postgres?pgbouncer=true"

# 2. DIRECT CONNECTION (port 5432) - For Prisma migrations
#    - Required for schema changes (migrate dev, db push)
#    - Bypasses the connection pooler
#    - Used by prisma.config.ts for migrations
DIRECT_URL="postgresql://postgres.[project-ref]:[password]@db.[project-ref].supabase.co:5432/postgres"

# ===========================================
# NextAuth Configuration
# ===========================================
# Base URL of your application
NEXTAUTH_URL=http://localhost:3000

# Secret for encrypting session tokens (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET=

# ===========================================
# Google OAuth Configuration
# ===========================================
# Google OAuth credentials from https://console.cloud.google.com/
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ===========================================
# Anonymous Review System
# ===========================================
# RSA Private Key for Blind Signing (PEM format, base64 encoded for single-line storage)
# Generate with: npm run generate-keys
ANON_REVIEW_PRIVATE_KEY=

# RSA Public Key (PEM format, base64 encoded)
# The corresponding public key to ANON_REVIEW_PRIVATE_KEY
ANON_REVIEW_PUBLIC_KEY=

# Secret for hashing user emails in user_cycle_logs
# Used to create one-way hashes for rate limiting without storing actual emails
# Generate with: openssl rand -base64 32
ANON_REVIEW_HASH_SECRET=

# Current review cycle ID (format: YYYY_MM_CYCLE)
# Cycles: JAN_FEB (A), MAR_APR (B), MAY_JUN (C), JUL_AUG (D), SEP_OCT (E), NOV_DEC (F)
# Example: 2025_01_A represents January-February 2025
REVIEW_CYCLE_ID=2025_01_A
